(this["webpackJsonpfaims3-map-input-example"]=this["webpackJsonpfaims3-map-input-example"]||[]).push([[4],{272:function(r,e,n){"use strict";n.d(e,"a",(function(){return h}));var a=n(3),t=n.n(a),i=n(13),s=n(16),o=n(18);function f(r,e){var n=r.length-e,a=0;do{for(var t=e;t>0;t--)r[a+e]+=r[a],a++;n-=e}while(n>0)}function c(r,e,n){for(var a=0,t=r.length,i=t/n;t>e;){for(var s=e;s>0;--s)r[a+e]+=r[a],++a;t-=e}for(var o=r.slice(),f=0;f<i;++f)for(var c=0;c<n;++c)r[n*f+c]=o[(n-c-1)*i+f]}function u(r,e,n,a,t,i){if(!e||1===e)return r;for(var s=0;s<t.length;++s){if(t[s]%8!==0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(t[s]!==t[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var o=t[0]/8,u=2===i?1:t.length,h=0;h<a&&!(h*u*n*o>=r.byteLength);++h){var l=void 0;if(2===e){switch(t[0]){case 8:l=new Uint8Array(r,h*u*n*o,u*n*o);break;case 16:l=new Uint16Array(r,h*u*n*o,u*n*o/2);break;case 32:l=new Uint32Array(r,h*u*n*o,u*n*o/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(t[0]," bits per sample."))}f(l,u)}else 3===e&&c(l=new Uint8Array(r,h*u*n*o,u*n*o),u,o)}return r}var h=function(){function r(){Object(s.a)(this,r)}return Object(o.a)(r,[{key:"decode",value:function(){var r=Object(i.a)(t.a.mark((function r(e,n){var a,i,s,o,f;return t.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.decodeBlock(n);case 2:if(a=r.sent,1===(i=e.Predictor||1)){r.next=9;break}return s=!e.StripOffsets,o=s?e.TileWidth:e.ImageWidth,f=s?e.TileLength:e.RowsPerStrip||e.ImageLength,r.abrupt("return",u(a,i,o,f,e.BitsPerSample,e.PlanarConfiguration));case 9:return r.abrupt("return",a);case 10:case"end":return r.stop()}}),r,this)})));return function(e,n){return r.apply(this,arguments)}}()}]),r}()},277:function(r,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return g}));var a=n(24),t=n(25),i=n(16),s=n(18),o=n(272),f=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),c=4017,u=799,h=3406,l=2276,v=1567,m=3784,p=5793,b=2896;function d(r,e){for(var n=0,a=[],t=16;t>0&&!r[t-1];)--t;a.push({children:[],index:0});for(var i,s=a[0],o=0;o<t;o++){for(var f=0;f<r[o];f++){for((s=a.pop()).children[s.index]=e[n];s.index>0;)s=a.pop();for(s.index++,a.push(s);a.length<=o;)a.push(i={children:[],index:0}),s.children[s.index]=i.children,s=i;n++}o+1<t&&(a.push(i={children:[],index:0}),s.children[s.index]=i.children,s=i)}return a[0].children}function w(r,e,n,a,t,i,s,o,c){var u=n.mcusPerLine,h=n.progressive,l=e,v=e,m=0,p=0;function b(){if(p>0)return p--,m>>p&1;if(255===(m=r[v++])){var e=r[v++];if(e)throw new Error("unexpected marker: ".concat((m<<8|e).toString(16)))}return p=7,m>>>7}function d(r){for(var e,n=r;null!==(e=b());){if("number"===typeof(n=n[e]))return n;if("object"!==typeof n)throw new Error("invalid huffman sequence")}return null}function w(r){for(var e=r,n=0;e>0;){var a=b();if(null===a)return;n=n<<1|a,--e}return n}function k(r){var e=w(r);return e>=1<<r-1?e:e+(-1<<r)+1}var y=0;var g,P=0;function x(r,e,n,a,t){var i=n%u,s=(n/u|0)*r.v+a,o=i*r.h+t;e(r,r.blocks[s][o])}function T(r,e,n){var a=n/r.blocksPerLine|0,t=n%r.blocksPerLine;e(r,r.blocks[a][t])}var A,C,L,O,j,E,I=a.length;E=h?0===i?0===o?function(r,e){var n=d(r.huffmanTableDC),a=0===n?0:k(n)<<c;r.pred+=a,e[0]=r.pred}:function(r,e){e[0]|=b()<<c}:0===o?function(r,e){if(y>0)y--;else for(var n=i,a=s;n<=a;){var t=d(r.huffmanTableAC),o=15&t,u=t>>4;if(0===o){if(u<15){y=w(u)+(1<<u)-1;break}n+=16}else e[f[n+=u]]=k(o)*(1<<c),n++}}:function(r,e){for(var n=i,a=s,t=0;n<=a;){var o=f[n],u=e[o]<0?-1:1;switch(P){case 0:var h=d(r.huffmanTableAC),l=15&h;if(t=h>>4,0===l)t<15?(y=w(t)+(1<<t),P=4):(t=16,P=1);else{if(1!==l)throw new Error("invalid ACn encoding");g=k(l),P=t?2:3}continue;case 1:case 2:e[o]?e[o]+=(b()<<c)*u:0===--t&&(P=2===P?3:0);break;case 3:e[o]?e[o]+=(b()<<c)*u:(e[o]=g<<c,P=0);break;case 4:e[o]&&(e[o]+=(b()<<c)*u)}n++}4===P&&0===--y&&(P=0)}:function(r,e){var n=d(r.huffmanTableDC),a=0===n?0:k(n);r.pred+=a,e[0]=r.pred;for(var t=1;t<64;){var i=d(r.huffmanTableAC),s=15&i,o=i>>4;if(0===s){if(o<15)break;t+=16}else e[f[t+=o]]=k(s),t++}};var U,D,q=0;D=1===I?a[0].blocksPerLine*a[0].blocksPerColumn:u*n.mcusPerColumn;for(var z=t||D;q<D;){for(C=0;C<I;C++)a[C].pred=0;if(y=0,1===I)for(A=a[0],j=0;j<z;j++)T(A,E,q),q++;else for(j=0;j<z;j++){for(C=0;C<I;C++){var M=A=a[C],S=M.h,J=M.v;for(L=0;L<J;L++)for(O=0;O<S;O++)x(A,E,q,L,O)}if(++q===D)break}if(p=0,(U=r[v]<<8|r[v+1])<65280)throw new Error("marker was not found");if(!(U>=65488&&U<=65495))break;v+=2}return v-l}function k(r,e){var n=[],a=e.blocksPerLine,t=e.blocksPerColumn,i=a<<3,s=new Int32Array(64),o=new Uint8Array(64);function f(r,n,a){var t,i,s,o,f,d,w,k,y,g,P=e.quantizationTable,x=a;for(g=0;g<64;g++)x[g]=r[g]*P[g];for(g=0;g<8;++g){var T=8*g;0!==x[1+T]||0!==x[2+T]||0!==x[3+T]||0!==x[4+T]||0!==x[5+T]||0!==x[6+T]||0!==x[7+T]?(t=p*x[0+T]+128>>8,i=p*x[4+T]+128>>8,s=x[2+T],o=x[6+T],f=b*(x[1+T]-x[7+T])+128>>8,k=b*(x[1+T]+x[7+T])+128>>8,d=x[3+T]<<4,w=x[5+T]<<4,y=t-i+1>>1,t=t+i+1>>1,i=y,y=s*m+o*v+128>>8,s=s*v-o*m+128>>8,o=y,y=f-w+1>>1,f=f+w+1>>1,w=y,y=k+d+1>>1,d=k-d+1>>1,k=y,y=t-o+1>>1,t=t+o+1>>1,o=y,y=i-s+1>>1,i=i+s+1>>1,s=y,y=f*l+k*h+2048>>12,f=f*h-k*l+2048>>12,k=y,y=d*u+w*c+2048>>12,d=d*c-w*u+2048>>12,w=y,x[0+T]=t+k,x[7+T]=t-k,x[1+T]=i+w,x[6+T]=i-w,x[2+T]=s+d,x[5+T]=s-d,x[3+T]=o+f,x[4+T]=o-f):(y=p*x[0+T]+512>>10,x[0+T]=y,x[1+T]=y,x[2+T]=y,x[3+T]=y,x[4+T]=y,x[5+T]=y,x[6+T]=y,x[7+T]=y)}for(g=0;g<8;++g){var A=g;0!==x[8+A]||0!==x[16+A]||0!==x[24+A]||0!==x[32+A]||0!==x[40+A]||0!==x[48+A]||0!==x[56+A]?(t=p*x[0+A]+2048>>12,i=p*x[32+A]+2048>>12,s=x[16+A],o=x[48+A],f=b*(x[8+A]-x[56+A])+2048>>12,k=b*(x[8+A]+x[56+A])+2048>>12,d=x[24+A],w=x[40+A],y=t-i+1>>1,t=t+i+1>>1,i=y,y=s*m+o*v+2048>>12,s=s*v-o*m+2048>>12,o=y,y=f-w+1>>1,f=f+w+1>>1,w=y,y=k+d+1>>1,d=k-d+1>>1,k=y,y=t-o+1>>1,t=t+o+1>>1,o=y,y=i-s+1>>1,i=i+s+1>>1,s=y,y=f*l+k*h+2048>>12,f=f*h-k*l+2048>>12,k=y,y=d*u+w*c+2048>>12,d=d*c-w*u+2048>>12,w=y,x[0+A]=t+k,x[56+A]=t-k,x[8+A]=i+w,x[48+A]=i-w,x[16+A]=s+d,x[40+A]=s-d,x[24+A]=o+f,x[32+A]=o-f):(y=p*a[g+0]+8192>>14,x[0+A]=y,x[8+A]=y,x[16+A]=y,x[24+A]=y,x[32+A]=y,x[40+A]=y,x[48+A]=y,x[56+A]=y)}for(g=0;g<64;++g){var C=128+(x[g]+8>>4);n[g]=C<0?0:C>255?255:C}}for(var d=0;d<t;d++){for(var w=d<<3,k=0;k<8;k++)n.push(new Uint8Array(i));for(var y=0;y<a;y++){f(e.blocks[d][y],o,s);for(var g=0,P=y<<3,x=0;x<8;x++)for(var T=n[w+x],A=0;A<8;A++)T[P+A]=o[g++]}}return n}var y=function(){function r(){Object(i.a)(this,r),this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}return Object(s.a)(r,[{key:"resetFrames",value:function(){this.frames=[]}},{key:"parse",value:function(r){var e=0;function n(){var n=r[e]<<8|r[e+1];return e+=2,n}function a(){var a=n(),t=r.subarray(e,e+a-2);return e+=t.length,t}function t(r){var e,n,a=0,t=0;for(n in r.components)r.components.hasOwnProperty(n)&&(a<(e=r.components[n]).h&&(a=e.h),t<e.v&&(t=e.v));var i=Math.ceil(r.samplesPerLine/8/a),s=Math.ceil(r.scanLines/8/t);for(n in r.components)if(r.components.hasOwnProperty(n)){e=r.components[n];for(var o=Math.ceil(Math.ceil(r.samplesPerLine/8)*e.h/a),f=Math.ceil(Math.ceil(r.scanLines/8)*e.v/t),c=i*e.h,u=s*e.v,h=[],l=0;l<u;l++){for(var v=[],m=0;m<c;m++)v.push(new Int32Array(64));h.push(v)}e.blocksPerLine=o,e.blocksPerColumn=f,e.blocks=h}r.maxH=a,r.maxV=t,r.mcusPerLine=i,r.mcusPerColumn=s}var i=n();if(65496!==i)throw new Error("SOI not found");for(i=n();65497!==i;){switch(i){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s=a();65504===i&&74===s[0]&&70===s[1]&&73===s[2]&&70===s[3]&&0===s[4]&&(this.jfif={version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]<<8|s[9],yDensity:s[10]<<8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518===i&&65===s[0]&&100===s[1]&&111===s[2]&&98===s[3]&&101===s[4]&&0===s[5]&&(this.adobe={version:s[6],flags0:s[7]<<8|s[8],flags1:s[9]<<8|s[10],transformCode:s[11]});break;case 65499:for(var o=n()+e-2;e<o;){var c=r[e++],u=new Int32Array(64);if(c>>4===0)for(var h=0;h<64;h++){u[f[h]]=r[e++]}else{if(c>>4!==1)throw new Error("DQT: invalid table spec");for(var l=0;l<64;l++){u[f[l]]=n()}}this.quantizationTables[15&c]=u}break;case 65472:case 65473:case 65474:n();for(var v={extended:65473===i,progressive:65474===i,precision:r[e++],scanLines:n(),samplesPerLine:n(),components:{},componentsOrder:[]},m=r[e++],p=void 0,b=0;b<m;b++){p=r[e];var k=r[e+1]>>4,y=15&r[e+1],g=r[e+2];v.componentsOrder.push(p),v.components[p]={h:k,v:y,quantizationIdx:g},e+=3}t(v),this.frames.push(v);break;case 65476:for(var P=n(),x=2;x<P;){for(var T=r[e++],A=new Uint8Array(16),C=0,L=0;L<16;L++,e++)A[L]=r[e],C+=A[L];for(var O=new Uint8Array(C),j=0;j<C;j++,e++)O[j]=r[e];x+=17+C,T>>4===0?this.huffmanTablesDC[15&T]=d(A,O):this.huffmanTablesAC[15&T]=d(A,O)}break;case 65501:n(),this.resetInterval=n();break;case 65498:n();for(var E=r[e++],I=[],U=this.frames[0],D=0;D<E;D++){var q=U.components[r[e++]],z=r[e++];q.huffmanTableDC=this.huffmanTablesDC[z>>4],q.huffmanTableAC=this.huffmanTablesAC[15&z],I.push(q)}var M=r[e++],S=r[e++],J=r[e++],W=w(r,e,U,I,this.resetInterval,M,S,J>>4,15&J);e+=W;break;case 65535:255!==r[e]&&e--;break;default:if(255===r[e-3]&&r[e-2]>=192&&r[e-2]<=254){e-=3;break}throw new Error("unknown JPEG marker ".concat(i.toString(16)))}i=n()}}},{key:"getResult",value:function(){var r=this.frames;if(0===this.frames.length)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(var e=0;e<this.frames.length;e++)for(var n=this.frames[e].components,a=0,t=Object.keys(n);a<t.length;a++){var i=t[a];n[i].quantizationTable=this.quantizationTables[n[i].quantizationIdx],delete n[i].quantizationIdx}for(var s=r[0],o=s.components,f=s.componentsOrder,c=[],u=s.samplesPerLine,h=s.scanLines,l=0;l<f.length;l++){var v=o[f[l]];c.push({lines:k(0,v),scaleX:v.h/s.maxH,scaleY:v.v/s.maxV})}for(var m=new Uint8Array(u*h*c.length),p=0,b=0;b<h;++b)for(var d=0;d<u;++d)for(var w=0;w<c.length;++w){var y=c[w];m[p]=y.lines[0|b*y.scaleY][0|d*y.scaleX],++p}return m}}]),r}(),g=function(r){Object(a.a)(n,r);var e=Object(t.a)(n);function n(r){var a;return Object(i.a)(this,n),(a=e.call(this)).reader=new y,r.JPEGTables&&a.reader.parse(r.JPEGTables),a}return Object(s.a)(n,[{key:"decodeBlock",value:function(r){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(r)),this.reader.getResult().buffer}}]),n}(o.a)}}]);
//# sourceMappingURL=4.32c15258.chunk.js.map